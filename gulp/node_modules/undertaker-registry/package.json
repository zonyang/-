{
  "_args": [
    [
      {
        "raw": "undertaker-registry@^1.0.0",
        "scope": null,
        "escapedName": "undertaker-registry",
        "name": "undertaker-registry",
        "rawSpec": "^1.0.0",
        "spec": ">=1.0.0 <2.0.0",
        "type": "range"
      },
      "C:\\gulp\\node_modules\\undertaker"
    ]
  ],
  "_from": "undertaker-registry@>=1.0.0 <2.0.0",
  "_id": "undertaker-registry@1.0.1",
  "_inCache": true,
  "_location": "/undertaker-registry",
  "_nodeVersion": "0.10.48",
  "_npmOperationalInternal": {
    "host": "s3://npm-registry-packages",
    "tmp": "tmp/undertaker-registry-1.0.1.tgz_1506979608888_0.07466459693387151"
  },
  "_npmUser": {
    "name": "phated",
    "email": "blaine.bublitz@gmail.com"
  },
  "_npmVersion": "2.15.1",
  "_phantomChildren": {},
  "_requested": {
    "raw": "undertaker-registry@^1.0.0",
    "scope": null,
    "escapedName": "undertaker-registry",
    "name": "undertaker-registry",
    "rawSpec": "^1.0.0",
    "spec": ">=1.0.0 <2.0.0",
    "type": "range"
  },
  "_requiredBy": [
    "/undertaker"
  ],
  "_resolved": "https://registry.npmjs.org/undertaker-registry/-/undertaker-registry-1.0.1.tgz",
  "_shasum": "5e4bda308e4a8a2ae584f9b9a4359a499825cc50",
  "_shrinkwrap": null,
  "_spec": "undertaker-registry@^1.0.0",
  "_where": "C:\\gulp\\node_modules\\undertaker",
  "author": {
    "name": "Gulp Team",
    "email": "team@gulpjs.com",
    "url": "http://gulpjs.com/"
  },
  "bugs": {
    "url": "https://github.com/gulpjs/undertaker-registry/issues"
  },
  "contributors": [
    {
      "name": "Blaine Bublitz",
      "email": "blaine.bublitz@gmail.com"
    }
  ],
  "dependencies": {},
  "description": "Default registry in gulp 4.",
  "devDependencies": {
    "eslint": "^1.7.3",
    "eslint-config-gulp": "^2.0.0",
    "expect": "^1.19.0",
    "istanbul": "^0.4.3",
    "istanbul-coveralls": "^1.0.3",
    "jscs": "^2.3.5",
    "jscs-preset-gulp": "^1.0.0",
    "mocha": "^3.5.0"
  },
  "directories": {},
  "dist": {
    "shasum": "5e4bda308e4a8a2ae584f9b9a4359a499825cc50",
    "tarball": "https://registry.npmjs.org/undertaker-registry/-/undertaker-registry-1.0.1.tgz"
  },
  "engines": {
    "node": ">= 0.10"
  },
  "files": [
    "LICENSE",
    "index.js"
  ],
  "gitHead": "8bb70b67ce66cedb74fcc92525738b85e77cc62a",
  "homepage": "https://github.com/gulpjs/undertaker-registry#readme",
  "keywords": [
    "registry",
    "tasks",
    "undertaker",
    "gulp"
  ],
  "license": "MIT",
  "main": "index.js",
  "maintainers": [
    {
      "name": "phated",
      "email": "blaine@iceddev.com"
    }
  ],
  "name": "undertaker-registry",
  "optionalDependencies": {},
  "readme": "<p align=\"center\">\n  <a href=\"http://gulpjs.com\">\n    <img height=\"257\" width=\"114\" src=\"https://raw.githubusercontent.com/gulpjs/artwork/master/gulp-2x.png\">\n  </a>\n</p>\n\n# undertaker-registry\n\n[![NPM version][npm-image]][npm-url] [![Downloads][downloads-image]][npm-url] [![Build Status][travis-image]][travis-url] [![AppVeyor Build Status][appveyor-image]][appveyor-url] [![Coveralls Status][coveralls-image]][coveralls-url] [![Gitter chat][gitter-image]][gitter-url]\n\nDefault registry in gulp 4.\n\n## Usage\n\n```js\nvar gulp = require('gulp');\nvar UndertakerRegistry = require('undertaker-registry');\n\nvar registry = new UndertakerRegistry();\n\ngulp.registry(registry);\n```\n\n## API\n\n### new UndertakerRegistry([options])\n\nConstructor for the default registry.  Inherit from this constructor to build custom registries.\n\n### init(taker)\n\nNo-op method that receives the undertaker instance.  Useful to set pre-defined tasks using the\n`undertaker.task(taskName, fn)` method.  Custom registries can override this method when inheriting\nfrom this default registry.\n\n### get(taskName) => Function\n\nReturns the task with that name or undefined if no task is registered with that name.  Useful for custom\ntask storage.  Custom registries can override this method when inheriting from this default registry.\n\n### set(taskName, fn) => [Function]\n\nAdds a task to the registry.  If `set` modifies a task, it should return the new task so Undertaker can\nproperly maintain metadata for the task.  Useful for adding custom behavior to every task as it is\nregistered in the system.  Custom registries can override this method when inheriting from this default\nregistry.\n\n### tasks() => Object\n\nReturns an object listing all tasks in the registry.  Necessary to override if the `get` method is overridden\nfor custom task storage.  Custom registries can override this when when inheriting from this default\nregistry.\n\n## Custom Registries\n\nCustom registries are constructor functions allowing you to pre-define/share tasks\nor add custom functionality to your registries.\n\nA registry's prototype should define:\n\n- `init(taker)`: receives the undertaker instance to set pre-defined tasks using the `task(taskName, fn)` method.\n- `get(taskName)`: returns the task with that name\n   or `undefined` if no task is registered with that name.\n- `set(taskName, fn)`: add task to the registry. If `set` modifies a task, it should return the new task.\n- `tasks()`: returns an object listing all tasks in the registry.\n\nYou should not call these functions yourself; leave that to Undertaker, so it can\nkeep its metadata consistent.\n\nThe easiest way to create a custom registry is to inherit from\n[undertaker-registry](https://www.npmjs.com/package/undertaker-registry):\n\n```javascript\nvar util = require('util');\n\nvar DefaultRegistry = require('undertaker-registry');\n\nfunction MyRegistry(){\n  DefaultRegistry.call(this);\n}\n\nutil.inherits(MyRegistry, DefaultRegistry);\n\nmodule.exports = MyRegistry;\n```\n\n### Sharing tasks\n\nTo share common tasks with all your projects, you can expose an `init` method on the registry\nprototype and it will receive the Undertaker instance as the only argument. You can then use\n`undertaker.task(name, fn)` to register pre-defined tasks.\n\nFor example you might want to share a `clean` task:\n\n```javascript\nvar fs = require('fs');\nvar util = require('util');\n\nvar DefaultRegistry = require('undertaker-registry');\nvar del = require('del');\n\nfunction CommonRegistry(opts){\n  DefaultRegistry.call(this);\n\n  opts = opts || {};\n\n  this.buildDir = opts.buildDir || './build';\n}\n\nutil.inherits(CommonRegistry, DefaultRegistry);\n\nCommonRegistry.prototype.init = function(takerInst){\n  var buildDir = this.buildDir;\n  var exists = fs.existsSync(buildDir);\n\n  if(exists){\n    throw new Error('Cannot initialize common tasks. ' + buildDir + ' directory exists.');\n  }\n\n  takerInst.task('clean', function(){\n    return del([buildDir]);\n  });\n}\n\nmodule.exports = CommonRegistry;\n```\n\nThen to use it in a project:\n```javascript\nvar Undertaker = require('undertaker');\nvar CommonRegistry = require('myorg-common-tasks');\n\nvar taker = new Undertaker(CommonRegistry({ buildDir: '/dist' }));\n\ntaker.task('build', taker.series('clean', function build(cb) {\n  // do things\n  cb();\n}));\n```\n\n### Sharing Functionalities\n\nBy controlling how tasks are added to the registry, you can decorate them.\n\nFor example if you wanted all tasks to share some data,  you can use a custom registry\nto bind them to that data. Be sure to return the altered task, as per the description\nof registry methods above:\n\n```javascript\nvar util = require('util');\n\nvar Undertaker = require('undertaker');\nvar DefaultRegistry = require('undertaker-registry');\n\n// Some task defined somewhere else\nvar BuildRegistry = require('./build.js');\nvar ServeRegistry = require('./serve.js');\n\nfunction ConfigRegistry(config){\n  DefaultRegistry.call(this);\n  this.config = config;\n}\n\nutil.inherits(ConfigRegistry, DefaultRegistry);\n\nConfigRegistry.prototype.set = function set(name, fn) {\n  // The `DefaultRegistry` uses `this._tasks` for storage.\n  var task = this._tasks[name] = fn.bind(this.config);\n  return task;\n};\n\nvar taker = new Undertaker();\n\ntaker.registry(new BuildRegistry());\ntaker.registry(new ServeRegistry());\n\n// `taker.registry` will reset each task in the registry with\n// `ConfigRegistry.prototype.set` which will bind them to the config object.\ntaker.registry(new ConfigRegistry({\n  src: './src',\n  build: './build',\n  bindTo: '0.0.0.0:8888'\n}));\n\ntaker.task('default', taker.series('clean', 'build', 'serve', function(cb) {\n  console.log('Server bind to ' + this.bindTo);\n  console.log('Serving' + this.build);\n  cb();\n}));\n```\n\n## License\n\nMIT\n\n[downloads-image]: http://img.shields.io/npm/dm/undertaker-registry.svg\n[npm-url]: https://npmjs.org/package/undertaker-registry\n[npm-image]: http://img.shields.io/npm/v/undertaker-registry.svg\n\n[travis-url]: https://travis-ci.org/gulpjs/undertaker-registry\n[travis-image]: http://img.shields.io/travis/gulpjs/undertaker-registry.svg\n\n[appveyor-url]: https://ci.appveyor.com/project/gulpjs/undertaker-registry\n[appveyor-image]: https://img.shields.io/appveyor/ci/gulpjs/undertaker-registry.svg?label=appveyor\n\n[coveralls-url]: https://coveralls.io/r/gulpjs/undertaker-registry\n[coveralls-image]: http://img.shields.io/coveralls/gulpjs/undertaker-registry/master.svg\n\n[gitter-url]: https://gitter.im/gulpjs/gulp\n[gitter-image]: https://badges.gitter.im/gulpjs/gulp.svg\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/gulpjs/undertaker-registry.git"
  },
  "scripts": {
    "cover": "istanbul cover _mocha --report lcovonly",
    "coveralls": "npm run cover && istanbul-coveralls",
    "lint": "eslint . && jscs index.js test/",
    "pretest": "npm run lint",
    "test": "mocha --async-only"
  },
  "version": "1.0.1"
}
